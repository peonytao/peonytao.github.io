---
layout: post
title: 通过内网穿透远程连接数据库
subtitle: 通过natapp内网穿透远程连接mysql数据库
date: 2022-02-12
author: 刘涵
header-img:
catalog: true
tags:
- Mysql
- 内网穿透
---

## 1、需求
当需要多地写代码时，代码可以通过gitee、github等工具同步，而数据库没有在云端时，希望在任何地方都可以访问同一个数据库
## 2、准备

1. natapp-内网穿透工具（免费创建两条隧道）
1. 使用navicat连接
1. 在java代码中连接
## 3、步骤
#### 1、使用natapp创建免费内网穿透隧道

-  访问[natapp](https://natapp.cn)官网注册账号并实名认证 
-  点击购买隧道进入免费隧道<br />![20220211164740.png](https://cdn.nlark.com/yuque/0/2022/png/2551739/1659156917525-e6d43a60-9ddf-44c5-b8c7-021ac1d47e4a.png#clientId=uaae5f454-ae60-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=146&id=u6d3d87c3&name=20220211164740.png&originHeight=292&originWidth=662&originalType=binary&ratio=1&rotation=0&showTitle=false&size=125032&status=done&style=none&taskId=u788ebe0b-188d-460a-9e19-6bdf5dfb2f9&title=&width=331) 
-  设置协议及端口：Web用于前后端联调等场景，数据库连接基于TCP，所以这里选择TCP协议，端口号为数据库端口号<br />![20220211164927.png](https://cdn.nlark.com/yuque/0/2022/png/2551739/1659156957375-7cc838a9-0476-47a6-b48a-aec311367601.png#clientId=uaae5f454-ae60-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=292&id=u764113ae&name=20220211164927.png&originHeight=583&originWidth=1307&originalType=binary&ratio=1&rotation=0&showTitle=false&size=60866&status=done&style=none&taskId=u2f3de05e-573c-40d6-9ebd-87fae1d258c&title=&width=653.5)
-  点击免费购买即可在我的隧道看到该条隧道 

![](https://gitee.com/peonytao/typora/raw/master/img/20220211165334.png#crop=0&crop=0&crop=1&crop=1&id=bJGTt&originHeight=81&originWidth=1508&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

- 下载官方客户端并根据教程启动natapp，tcp://后的地址即为连接到本地数据库的访问地址

![](https://gitee.com/peonytao/typora/raw/master/img/20220211165637.png#crop=0&crop=0&crop=1&crop=1&id=X0kld&originHeight=480&originWidth=960&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
#### 2、使用navicat连接

- 新建一个mysql连接，主机为上方取得的tcp://后的地址，端口为地址后的端口，用户名密码填目标数据库的账密

![](https://gitee.com/peonytao/typora/raw/master/img/20220211170109.png#crop=0&crop=0&crop=1&crop=1&id=jZmiZ&originHeight=667&originWidth=562&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

- 点击测试连接，成功即可确定
#### 3、在java代码中连接

- 在数据库配置处使用上方取得的tcp://后的地址即可，user为数据库名

![](https://gitee.com/peonytao/typora/raw/master/img/20220211170604.png#crop=0&crop=0&crop=1&crop=1&id=Y2mOB&originHeight=101&originWidth=834&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
