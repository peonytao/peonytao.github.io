---
layout:     post
title:      通过内网穿透远程连接数据库
subtitle:   通过natapp内网穿透远程连接mysql数据库
date:       2022-02-12
author:     刘涵
header-img: 
catalog: true
tags:
    - Mysql
    - 内网穿透
---

## 1、需求

当需要多地写代码时，代码可以通过gitee、github等工具同步，而数据库没有在云端时，希望在任何地方都可以访问同一个数据库



## 2、准备

1. natapp-内网穿透工具（免费创建两条隧道）
2. 使用navicat连接
3. 在java代码中连接



## 3、步骤

#### 1、使用natapp创建免费内网穿透隧道

- 访问[natapp](https://natapp.cn)官网注册账号并实名认证

- 点击购买隧道进入免费隧道

  ![image-20220211164738389](https://gitee.com/peonytao/typora/raw/master/img/20220211164740.png)

- 设置协议及端口：Web用于前后端联调等场景，数据库连接基于TCP，所以这里选择TCP协议，端口号为数据库端口号

  ![image-20220211165133363](https://gitee.com/peonytao/typora/raw/master/img/20220211165135.png)

- 点击免费购买即可在我的隧道看到该条隧道

![image-20220211165332460](https://gitee.com/peonytao/typora/raw/master/img/20220211165334.png)

- 下载官方客户端并根据教程启动natapp，tcp://后的地址即为连接到本地数据库的访问地址

![image-20220211165635557](https://gitee.com/peonytao/typora/raw/master/img/20220211165637.png)



#### 2、使用navicat连接

- 新建一个mysql连接，主机为上方取得的tcp://后的地址，端口为地址后的端口，用户名密码填目标数据库的账密

![image-20220211170107451](https://gitee.com/peonytao/typora/raw/master/img/20220211170109.png)

- 点击测试连接，成功即可确定



#### 3、在java代码中连接

- 在数据库配置处使用上方取得的tcp://后的地址即可，user为数据库名

![image-20220211170602497](https://gitee.com/peonytao/typora/raw/master/img/20220211170604.png)
